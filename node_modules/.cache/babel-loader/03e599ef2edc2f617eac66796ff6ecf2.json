{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useId as useId } from '@mui/utils';\nimport { ActionTypes } from './types';\nimport defaultReducer from './defaultListboxReducer';\nimport useControllableReducer from './useControllableReducer';\nimport areArraysEqual from '../utils/areArraysEqual';\n\nconst defaultOptionComparer = (optionA, optionB) => optionA === optionB;\n\nexport default function useListbox(props) {\n  var _props$optionIdGenera, _options$highlightedI;\n\n  const {\n    disableListWrap = false,\n    disabledItemsFocusable = false,\n    id: idProp,\n    options,\n    multiple = false,\n    isOptionDisabled = () => false,\n    optionComparer = defaultOptionComparer,\n    stateReducer: externalReducer,\n    listboxRef: externalListboxRef\n  } = props;\n  const id = useId(idProp);\n\n  function defaultIdGenerator(_, index) {\n    return `${id}-option-${index}`;\n  }\n\n  const optionIdGenerator = (_props$optionIdGenera = props.optionIdGenerator) != null ? _props$optionIdGenera : defaultIdGenerator;\n\n  const propsWithDefaults = _extends({}, props, {\n    disableListWrap,\n    disabledItemsFocusable,\n    isOptionDisabled,\n    multiple,\n    optionComparer\n  });\n\n  const listboxRef = React.useRef(null);\n  const handleRef = useForkRef(externalListboxRef, listboxRef);\n  const [{\n    highlightedIndex,\n    selectedValue\n  }, dispatch] = useControllableReducer(defaultReducer, externalReducer, propsWithDefaults);\n  const previousOptions = React.useRef([]);\n  React.useEffect(() => {\n    if (areArraysEqual(previousOptions.current, options, optionComparer)) {\n      return;\n    }\n\n    dispatch({\n      type: ActionTypes.optionsChange,\n      options,\n      previousOptions: previousOptions.current,\n      props: propsWithDefaults\n    });\n    previousOptions.current = options; // No need to re-run this effect if props change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, optionComparer, dispatch]);\n\n  const createHandleOptionClick = (option, other) => event => {\n    var _other$onClick;\n\n    (_other$onClick = other.onClick) == null ? void 0 : _other$onClick.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    dispatch({\n      type: ActionTypes.optionClick,\n      option,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const createHandleKeyDown = other => event => {\n    var _other$onKeyDown;\n\n    (_other$onKeyDown = other.onKeyDown) == null ? void 0 : _other$onKeyDown.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    const keysToPreventDefault = [' ', 'Enter', 'ArrowUp', 'ArrowDown', 'Home', 'End', 'PageUp', 'PageDown'];\n\n    if (keysToPreventDefault.includes(event.key)) {\n      event.preventDefault();\n    }\n\n    dispatch({\n      type: ActionTypes.keyDown,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const createHandleBlur = other => event => {\n    var _other$onBlur, _listboxRef$current;\n\n    (_other$onBlur = other.onBlur) == null ? void 0 : _other$onBlur.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if ((_listboxRef$current = listboxRef.current) != null && _listboxRef$current.contains(document.activeElement)) {\n      // focus is within the listbox\n      return;\n    }\n\n    dispatch({\n      type: ActionTypes.blur,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const getRootProps = function () {\n    let other = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _extends({}, other, {\n      'aria-activedescendant': highlightedIndex >= 0 ? optionIdGenerator(options[highlightedIndex], highlightedIndex) : undefined,\n      id,\n      onBlur: createHandleBlur(other),\n      onKeyDown: createHandleKeyDown(other),\n      role: 'listbox',\n      tabIndex: 0,\n      ref: handleRef\n    });\n  };\n\n  const getOptionState = option => {\n    let selected;\n    const index = options.findIndex(opt => optionComparer(opt, option));\n\n    if (multiple) {\n      var _ref;\n\n      selected = ((_ref = selectedValue) != null ? _ref : []).some(value => value != null && optionComparer(option, value));\n    } else {\n      selected = optionComparer(option, selectedValue);\n    }\n\n    const disabled = isOptionDisabled(option, index);\n    return {\n      selected,\n      disabled,\n      highlighted: highlightedIndex === index\n    };\n  };\n\n  const getOptionProps = function (option) {\n    let other = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      selected,\n      disabled\n    } = getOptionState(option);\n    const index = options.findIndex(opt => optionComparer(opt, option));\n    return {\n      'aria-disabled': disabled || undefined,\n      'aria-selected': selected,\n      id: optionIdGenerator(option, index),\n      onClick: createHandleOptionClick(option, other),\n      role: 'option'\n    };\n  };\n\n  return {\n    getRootProps,\n    getOptionProps,\n    getOptionState,\n    selectedOption: selectedValue,\n    highlightedOption: (_options$highlightedI = options[highlightedIndex]) != null ? _options$highlightedI : null\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useForkRef","useForkRef","unstable_useId","useId","ActionTypes","defaultReducer","useControllableReducer","areArraysEqual","defaultOptionComparer","optionA","optionB","useListbox","props","_props$optionIdGenera","_options$highlightedI","disableListWrap","disabledItemsFocusable","id","idProp","options","multiple","isOptionDisabled","optionComparer","stateReducer","externalReducer","listboxRef","externalListboxRef","defaultIdGenerator","_","index","optionIdGenerator","propsWithDefaults","useRef","handleRef","highlightedIndex","selectedValue","dispatch","previousOptions","useEffect","current","type","optionsChange","createHandleOptionClick","option","other","event","_other$onClick","onClick","call","defaultPrevented","preventDefault","optionClick","createHandleKeyDown","_other$onKeyDown","onKeyDown","keysToPreventDefault","includes","key","keyDown","createHandleBlur","_other$onBlur","_listboxRef$current","onBlur","contains","document","activeElement","blur","getRootProps","undefined","role","tabIndex","ref","getOptionState","selected","findIndex","opt","_ref","some","value","disabled","highlighted","getOptionProps","selectedOption","highlightedOption"],"sources":["/Users/hwi/Downloads/material-dashboard-react-main/node_modules/@mui/base/ListboxUnstyled/useListbox.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useId as useId } from '@mui/utils';\nimport { ActionTypes } from './types';\nimport defaultReducer from './defaultListboxReducer';\nimport useControllableReducer from './useControllableReducer';\nimport areArraysEqual from '../utils/areArraysEqual';\n\nconst defaultOptionComparer = (optionA, optionB) => optionA === optionB;\n\nexport default function useListbox(props) {\n  var _props$optionIdGenera, _options$highlightedI;\n\n  const {\n    disableListWrap = false,\n    disabledItemsFocusable = false,\n    id: idProp,\n    options,\n    multiple = false,\n    isOptionDisabled = () => false,\n    optionComparer = defaultOptionComparer,\n    stateReducer: externalReducer,\n    listboxRef: externalListboxRef\n  } = props;\n  const id = useId(idProp);\n\n  function defaultIdGenerator(_, index) {\n    return `${id}-option-${index}`;\n  }\n\n  const optionIdGenerator = (_props$optionIdGenera = props.optionIdGenerator) != null ? _props$optionIdGenera : defaultIdGenerator;\n\n  const propsWithDefaults = _extends({}, props, {\n    disableListWrap,\n    disabledItemsFocusable,\n    isOptionDisabled,\n    multiple,\n    optionComparer\n  });\n\n  const listboxRef = React.useRef(null);\n  const handleRef = useForkRef(externalListboxRef, listboxRef);\n  const [{\n    highlightedIndex,\n    selectedValue\n  }, dispatch] = useControllableReducer(defaultReducer, externalReducer, propsWithDefaults);\n  const previousOptions = React.useRef([]);\n  React.useEffect(() => {\n    if (areArraysEqual(previousOptions.current, options, optionComparer)) {\n      return;\n    }\n\n    dispatch({\n      type: ActionTypes.optionsChange,\n      options,\n      previousOptions: previousOptions.current,\n      props: propsWithDefaults\n    });\n    previousOptions.current = options; // No need to re-run this effect if props change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, optionComparer, dispatch]);\n\n  const createHandleOptionClick = (option, other) => event => {\n    var _other$onClick;\n\n    (_other$onClick = other.onClick) == null ? void 0 : _other$onClick.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    dispatch({\n      type: ActionTypes.optionClick,\n      option,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const createHandleKeyDown = other => event => {\n    var _other$onKeyDown;\n\n    (_other$onKeyDown = other.onKeyDown) == null ? void 0 : _other$onKeyDown.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    const keysToPreventDefault = [' ', 'Enter', 'ArrowUp', 'ArrowDown', 'Home', 'End', 'PageUp', 'PageDown'];\n\n    if (keysToPreventDefault.includes(event.key)) {\n      event.preventDefault();\n    }\n\n    dispatch({\n      type: ActionTypes.keyDown,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const createHandleBlur = other => event => {\n    var _other$onBlur, _listboxRef$current;\n\n    (_other$onBlur = other.onBlur) == null ? void 0 : _other$onBlur.call(other, event);\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if ((_listboxRef$current = listboxRef.current) != null && _listboxRef$current.contains(document.activeElement)) {\n      // focus is within the listbox\n      return;\n    }\n\n    dispatch({\n      type: ActionTypes.blur,\n      event,\n      props: propsWithDefaults\n    });\n  };\n\n  const getRootProps = (other = {}) => {\n    return _extends({}, other, {\n      'aria-activedescendant': highlightedIndex >= 0 ? optionIdGenerator(options[highlightedIndex], highlightedIndex) : undefined,\n      id,\n      onBlur: createHandleBlur(other),\n      onKeyDown: createHandleKeyDown(other),\n      role: 'listbox',\n      tabIndex: 0,\n      ref: handleRef\n    });\n  };\n\n  const getOptionState = option => {\n    let selected;\n    const index = options.findIndex(opt => optionComparer(opt, option));\n\n    if (multiple) {\n      var _ref;\n\n      selected = ((_ref = selectedValue) != null ? _ref : []).some(value => value != null && optionComparer(option, value));\n    } else {\n      selected = optionComparer(option, selectedValue);\n    }\n\n    const disabled = isOptionDisabled(option, index);\n    return {\n      selected,\n      disabled,\n      highlighted: highlightedIndex === index\n    };\n  };\n\n  const getOptionProps = (option, other = {}) => {\n    const {\n      selected,\n      disabled\n    } = getOptionState(option);\n    const index = options.findIndex(opt => optionComparer(opt, option));\n    return {\n      'aria-disabled': disabled || undefined,\n      'aria-selected': selected,\n      id: optionIdGenerator(option, index),\n      onClick: createHandleOptionClick(option, other),\n      role: 'option'\n    };\n  };\n\n  return {\n    getRootProps,\n    getOptionProps,\n    getOptionState,\n    selectedOption: selectedValue,\n    highlightedOption: (_options$highlightedI = options[highlightedIndex]) != null ? _options$highlightedI : null\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}