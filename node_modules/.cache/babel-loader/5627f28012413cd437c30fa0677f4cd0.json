{"ast":null,"code":"import _slicedToArray from \"/Users/hwi/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nimport { ActionTypes } from './types';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\nfunction useReducerReturnValueHandler(state, value, options, optionComparer, setValueState, onValueChange, onHighlightChange) {\n  var valueRef = React.useRef(value);\n  valueRef.current = value;\n  var onValueChangeRef = React.useRef(onValueChange);\n  onValueChangeRef.current = onValueChange;\n  var onHighlightChangeRef = React.useRef(onHighlightChange);\n  onHighlightChangeRef.current = onHighlightChange;\n  React.useEffect(function () {\n    if (Array.isArray(state.selectedValue)) {\n      if (areArraysEqual(state.selectedValue, valueRef.current)) {\n        return;\n      }\n    } else if (state.selectedValue == null && valueRef.current == null || state.selectedValue != null && valueRef.current != null && optionComparer.current(state.selectedValue, valueRef.current)) {\n      return;\n    }\n\n    setValueState(state.selectedValue);\n\n    if (state.selectedValue != null) {\n      var _onValueChangeRef$cur; // @ts-ignore We know that selectedValue has the correct type depending on `selectMultiple` prop.\n\n\n      (_onValueChangeRef$cur = onValueChangeRef.current) == null ? void 0 : _onValueChangeRef$cur.call(onValueChangeRef, state.selectedValue);\n    }\n  }, [state.selectedValue, setValueState, optionComparer]);\n  React.useEffect(function () {\n    // Fire the highlightChange event when reducer returns changed `highlightedIndex`.\n    if (state.highlightedIndex === -1) {\n      var _onHighlightChangeRef;\n\n      (_onHighlightChangeRef = onHighlightChangeRef.current) == null ? void 0 : _onHighlightChangeRef.call(onHighlightChangeRef, null);\n    } else {\n      var _onHighlightChangeRef2;\n\n      (_onHighlightChangeRef2 = onHighlightChangeRef.current) == null ? void 0 : _onHighlightChangeRef2.call(onHighlightChangeRef, options[state.highlightedIndex]);\n    }\n  }, [state.highlightedIndex, options]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var controlledValue = props.value,\n      defaultValue = props.defaultValue,\n      onValueChange = props.onChange,\n      onHighlightChange = props.onHighlightChange,\n      options = props.options,\n      optionComparer = props.optionComparer;\n  var propsRef = React.useRef(props);\n  propsRef.current = props;\n\n  var _useControlled = useControlled({\n    controlled: controlledValue,\n    default: defaultValue,\n    name: 'useListbox'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      value = _useControlled2[0],\n      setValueState = _useControlled2[1];\n\n  var previousValueRef = React.useRef(null);\n\n  var _React$useReducer = React.useReducer(externalReducer != null ? externalReducer : internalReducer, {\n    highlightedIndex: -1,\n    selectedValue: value\n  }),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var optionComparerRef = React.useRef(optionComparer);\n  optionComparerRef.current = optionComparer;\n  React.useEffect(function () {\n    // Detect external changes to the controlled `value` prop and update the state.\n    if (controlledValue === undefined) {\n      return;\n    }\n\n    if (Array.isArray(controlledValue) && Array.isArray(previousValueRef.current) && areArraysEqual(previousValueRef.current, controlledValue, optionComparerRef.current)) {\n      // `value` is an array and it did not change.\n      return;\n    }\n\n    if (!Array.isArray(controlledValue) && controlledValue != null && previousValueRef.current != null && optionComparerRef.current(controlledValue, previousValueRef.current)) {\n      // `value` is a single option and it did not change.\n      return;\n    }\n\n    previousValueRef.current = controlledValue;\n    dispatch({\n      type: ActionTypes.setControlledValue,\n      value: controlledValue,\n      props: propsRef.current\n    });\n  }, [controlledValue]);\n  useReducerReturnValueHandler(state, value, options, optionComparerRef, setValueState, onValueChange, onHighlightChange);\n  return [state, dispatch];\n}","map":{"version":3,"names":["React","unstable_useControlled","useControlled","ActionTypes","areArraysEqual","useReducerReturnValueHandler","state","value","options","optionComparer","setValueState","onValueChange","onHighlightChange","valueRef","useRef","current","onValueChangeRef","onHighlightChangeRef","useEffect","Array","isArray","selectedValue","_onValueChangeRef$cur","call","highlightedIndex","_onHighlightChangeRef","_onHighlightChangeRef2","useControllableReducer","internalReducer","externalReducer","props","controlledValue","defaultValue","onChange","propsRef","controlled","default","name","previousValueRef","useReducer","dispatch","optionComparerRef","undefined","type","setControlledValue"],"sources":["/Users/hwi/Downloads/material-dashboard-react-main/node_modules/@mui/base/ListboxUnstyled/useControllableReducer.js"],"sourcesContent":["import * as React from 'react';\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nimport { ActionTypes } from './types';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\nfunction useReducerReturnValueHandler(state, value, options, optionComparer, setValueState, onValueChange, onHighlightChange) {\n  const valueRef = React.useRef(value);\n  valueRef.current = value;\n  const onValueChangeRef = React.useRef(onValueChange);\n  onValueChangeRef.current = onValueChange;\n  const onHighlightChangeRef = React.useRef(onHighlightChange);\n  onHighlightChangeRef.current = onHighlightChange;\n  React.useEffect(() => {\n    if (Array.isArray(state.selectedValue)) {\n      if (areArraysEqual(state.selectedValue, valueRef.current)) {\n        return;\n      }\n    } else if (state.selectedValue == null && valueRef.current == null || state.selectedValue != null && valueRef.current != null && optionComparer.current(state.selectedValue, valueRef.current)) {\n      return;\n    }\n\n    setValueState(state.selectedValue);\n\n    if (state.selectedValue != null) {\n      var _onValueChangeRef$cur;\n\n      // @ts-ignore We know that selectedValue has the correct type depending on `selectMultiple` prop.\n      (_onValueChangeRef$cur = onValueChangeRef.current) == null ? void 0 : _onValueChangeRef$cur.call(onValueChangeRef, state.selectedValue);\n    }\n  }, [state.selectedValue, setValueState, optionComparer]);\n  React.useEffect(() => {\n    // Fire the highlightChange event when reducer returns changed `highlightedIndex`.\n    if (state.highlightedIndex === -1) {\n      var _onHighlightChangeRef;\n\n      (_onHighlightChangeRef = onHighlightChangeRef.current) == null ? void 0 : _onHighlightChangeRef.call(onHighlightChangeRef, null);\n    } else {\n      var _onHighlightChangeRef2;\n\n      (_onHighlightChangeRef2 = onHighlightChangeRef.current) == null ? void 0 : _onHighlightChangeRef2.call(onHighlightChangeRef, options[state.highlightedIndex]);\n    }\n  }, [state.highlightedIndex, options]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  const {\n    value: controlledValue,\n    defaultValue,\n    onChange: onValueChange,\n    onHighlightChange,\n    options,\n    optionComparer\n  } = props;\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n  const [value, setValueState] = useControlled({\n    controlled: controlledValue,\n    default: defaultValue,\n    name: 'useListbox'\n  });\n  const previousValueRef = React.useRef(null);\n  const [state, dispatch] = React.useReducer(externalReducer != null ? externalReducer : internalReducer, {\n    highlightedIndex: -1,\n    selectedValue: value\n  });\n  const optionComparerRef = React.useRef(optionComparer);\n  optionComparerRef.current = optionComparer;\n  React.useEffect(() => {\n    // Detect external changes to the controlled `value` prop and update the state.\n    if (controlledValue === undefined) {\n      return;\n    }\n\n    if (Array.isArray(controlledValue) && Array.isArray(previousValueRef.current) && areArraysEqual(previousValueRef.current, controlledValue, optionComparerRef.current)) {\n      // `value` is an array and it did not change.\n      return;\n    }\n\n    if (!Array.isArray(controlledValue) && controlledValue != null && previousValueRef.current != null && optionComparerRef.current(controlledValue, previousValueRef.current)) {\n      // `value` is a single option and it did not change.\n      return;\n    }\n\n    previousValueRef.current = controlledValue;\n    dispatch({\n      type: ActionTypes.setControlledValue,\n      value: controlledValue,\n      props: propsRef.current\n    });\n  }, [controlledValue]);\n  useReducerReturnValueHandler(state, value, options, optionComparerRef, setValueState, onValueChange, onHighlightChange);\n  return [state, dispatch];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}