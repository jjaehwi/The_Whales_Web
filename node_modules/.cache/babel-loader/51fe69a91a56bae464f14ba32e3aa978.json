{"ast":null,"code":"import _objectSpread from\"/Users/hwi/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/hwi/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import axios from \"axios\";\nimport axios from\"axios\";import MDBox from\"components/MDBox\";import Footer from\"examples/Footer\";import DashboardLayout from\"examples/LayoutContainers/DashboardLayout\";import DashboardNavbar from\"examples/Navbars/DashboardNavbar\";import{useEffect,useState}from\"react\";import{Map,MapMarker}from\"react-kakao-maps-sdk\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY=\"11f51a135860cbff7041b080fabf611f\";function Weather(){var _useState=useState({center:{lat:33.450701,lng:126.570667},errMsg:null,isLoading:true}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),temp=_useState4[0],setTemp=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];useEffect(function(){if(navigator.geolocation){// GeoLocation을 이용해서 접속 위치를 얻어옵니다\nnavigator.geolocation.getCurrentPosition(function(position){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{center:{lat:position.coords.latitude,// 위도\nlng:position.coords.longitude// 경도\n},isLoading:false});});axios.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(state.center.lat,\"&lon=\").concat(state.center.lng,\"&appid=\").concat(API_KEY)).then(function(res){console.log(\"You live in \".concat(state.center.lat,\" and \").concat(state.center.lng));console.log(\"\\uC628\\uB3C4 : \".concat(Math.round(res.data.main.temp-273.15),\", \\uB0A0\\uC528 : \").concat(res.data.weather[0].main));setTemp(Math.round(res.data.main.temp-273.15));setWeather(res.data.weather[0].main);});},function(err){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:err.message,isLoading:false});});});}else{// HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\nsetState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:\"geolocation을 사용할수 없어요..\",isLoading:false});});}},[]);return/*#__PURE__*/_jsxs(DashboardLayout,{children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsxs(MDBox,{children:[\" \\uC704\\uB3C4 : \",state.center.lat]}),/*#__PURE__*/_jsxs(MDBox,{children:[\" \\uACBD\\uB3C4 : \",state.center.lng]}),/*#__PURE__*/_jsxs(MDBox,{children:[\" \\uC628\\uB3C4 : \",temp,\"\\u2103\"]}),/*#__PURE__*/_jsxs(MDBox,{children:[\" \\uB0A0\\uC528 : \",weather]}),/*#__PURE__*/_jsx(Map// 지도를 표시할 Container\n,{center:state.center,style:{// 지도의 크기\nwidth:\"100%\",height:\"450px\"},level:3// 지도의 확대 레벨\n,children:!state.isLoading&&/*#__PURE__*/_jsx(MapMarker,{position:state.center,children:/*#__PURE__*/_jsx(\"div\",{style:{padding:\"5px\",color:\"#000\"},children:state.errMsg?state.errMsg:\"현재 위치\"})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Weather;","map":{"version":3,"names":["axios","MDBox","Footer","DashboardLayout","DashboardNavbar","useEffect","useState","Map","MapMarker","API_KEY","Weather","center","lat","lng","errMsg","isLoading","state","setState","temp","setTemp","weather","setWeather","navigator","geolocation","getCurrentPosition","position","prev","coords","latitude","longitude","get","then","res","console","log","Math","round","data","main","err","message","width","height","padding","color"],"sources":["/Users/hwi/Downloads/material-dashboard-react-main/src/layouts/weather/index.js"],"sourcesContent":["// import axios from \"axios\";\nimport axios from \"axios\";\nimport MDBox from \"components/MDBox\";\nimport Footer from \"examples/Footer\";\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\n\nimport { useEffect, useState } from \"react\";\nimport { Map, MapMarker } from \"react-kakao-maps-sdk\";\n\nconst API_KEY = \"11f51a135860cbff7041b080fabf611f\";\n\nfunction Weather() {\n  const [state, setState] = useState({\n    center: {\n      lat: 33.450701,\n      lng: 126.570667,\n    },\n    errMsg: null,\n    isLoading: true,\n  });\n  const [temp, setTemp] = useState(\"\");\n  const [weather, setWeather] = useState(\"\");\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      // GeoLocation을 이용해서 접속 위치를 얻어옵니다\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setState((prev) => ({\n            ...prev,\n            center: {\n              lat: position.coords.latitude, // 위도\n              lng: position.coords.longitude, // 경도\n            },\n            isLoading: false,\n          }));\n          axios\n            .get(\n              `https://api.openweathermap.org/data/2.5/weather?lat=${state.center.lat}&lon=${state.center.lng}&appid=${API_KEY}`\n            )\n            .then((res) => {\n              console.log(`You live in ${state.center.lat} and ${state.center.lng}`);\n              console.log(\n                `온도 : ${Math.round(res.data.main.temp - 273.15)}, 날씨 : ${\n                  res.data.weather[0].main\n                }`\n              );\n              setTemp(Math.round(res.data.main.temp - 273.15));\n              setWeather(res.data.weather[0].main);\n            });\n        },\n        (err) => {\n          setState((prev) => ({\n            ...prev,\n            errMsg: err.message,\n            isLoading: false,\n          }));\n        }\n      );\n    } else {\n      // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\n      setState((prev) => ({\n        ...prev,\n        errMsg: \"geolocation을 사용할수 없어요..\",\n        isLoading: false,\n      }));\n    }\n  }, []);\n\n  return (\n    <DashboardLayout>\n      <DashboardNavbar />\n\n      <MDBox> 위도 : {state.center.lat}</MDBox>\n      <MDBox> 경도 : {state.center.lng}</MDBox>\n      <MDBox> 온도 : {temp}℃</MDBox>\n      <MDBox> 날씨 : {weather}</MDBox>\n      <Map // 지도를 표시할 Container\n        center={state.center}\n        style={{\n          // 지도의 크기\n          width: \"100%\",\n          height: \"450px\",\n        }}\n        level={3} // 지도의 확대 레벨\n      >\n        {!state.isLoading && (\n          <MapMarker position={state.center}>\n            <div style={{ padding: \"5px\", color: \"#000\" }}>\n              {state.errMsg ? state.errMsg : \"현재 위치\"}\n            </div>\n          </MapMarker>\n        )}\n      </Map>\n      <Footer />\n    </DashboardLayout>\n  );\n}\n\nexport default Weather;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}